/* =========================================
   ACTION NETWORK — RECORD ENV MODULE (Static)
   ✅ 150px iframe target
   ✅ Branded internal scroll (mobile-safe, only if needed)
   ✅ Better touch scrolling + no “cut off” bottom on mobile
   ========================================= */

:root{
  --an-ink:#111;
  --an-sub:#4b5563;
  --an-line:rgba(0,0,0,.08);
  --an-card:#fff;
  --an-accent:#00B073;
  --an-accent-soft:rgba(0,176,115,.12);
}

/* Prevent the iframe/page itself from scrolling */
html, body{ height: 100%; }

body{
  margin:0;
  background:transparent;
  color:var(--an-ink);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
  overflow: hidden; /* ✅ key: no iframe scroll */
}

/* Fixed-height viewport inside the iframe (set iframe height to 150) */
.anr-frame{
  height: 150px;
  overflow: hidden;
}

/* Internal scroller: scrolls only if content overflows (mobile-safe) */
.anr-scroll{
  height: 150px;
  overflow-y: auto;                 /* ✅ internal scroll only when needed */
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;/* ✅ iOS momentum scroll */
  overscroll-behavior: contain;     /* ✅ stop parent page stealing scroll */
  touch-action: pan-y;              /* ✅ allow vertical gestures */
  padding: 0 0 8px;                 /* ✅ tiny bottom padding prevents “cut off” */
  position: relative;
  transform: translateZ(0);         /* ✅ helps some mobile browsers */
}

/* Branded scrollbar for the internal scroller */
.anr-scroll{
  scrollbar-width: thin;
  scrollbar-color: rgba(0,176,115,.45) rgba(0,0,0,.06);
}

.anr-scroll::-webkit-scrollbar{ width: 6px; }
.anr-scroll::-webkit-scrollbar-thumb{
  background: rgba(0,176,115,.45);
  border-radius: 999px;
}
.anr-scroll::-webkit-scrollbar-track{
  background: rgba(0,0,0,.06);
  border-radius: 999px;
}

.anr{
  max-width: 920px;
  margin: 0 auto;
  width: 100%;
  box-sizing: border-box;
}

/* Card (tightened to fit 150px better) */
.anr-env{
  background: var(--an-card);
  border: 1px solid var(--an-line);
  border-radius: 14px;
  padding: 10px 12px;
  box-shadow: 0 8px 20px rgba(0,0,0,.05);
  position: relative;
  overflow: hidden;
}

.anr-env::before{
  content:"";
  position:absolute;
  top:0; left:0; right:0;
  height: 4px;
  background: linear-gradient(90deg, var(--an-accent), rgba(0,176,115,.15));
}

.anr-env-head{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap: 10px;
  flex-wrap: wrap;
}

.anr-env h3{
  margin:0;
  font-size: 14px;
  font-weight: 950;
  letter-spacing: -.15px;
  line-height: 1.15;
}

.subline{
  margin: 4px 0 0;
  font-weight: 850;
  font-size: 12px;
  color: var(--an-sub);
  line-height: 1.15;
}

.pill{
  display:inline-flex;
  align-items:center;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: .55px;
  background: rgba(0,0,0,.05);
  color: #111;
  margin-bottom: 4px;
}

/* Years stood badge (smaller) */
.anr-years{
  display:flex;
  align-items:center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 12px;
  background: linear-gradient(180deg, var(--an-accent-soft), rgba(255,255,255,.85));
  border: 1px solid rgba(0,176,115,.22);
  box-shadow: 0 10px 18px rgba(0,0,0,.06);
  flex: 0 0 auto;
}

.anr-years .label{
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: .65px;
  color: #065f46;
  line-height: 1.05;
}

.anr-years .num{
  font-size: 18px;
  font-weight: 1000;
  letter-spacing: -.3px;
  color: var(--an-ink);
  padding: 5px 8px;
  border-radius: 12px;
  background: rgba(255,255,255,.8);
  border: 1px solid rgba(0,0,0,.06);
  min-width: 38px;
  text-align:center;
  position: relative;
}

.anr-years .num::after{
  content:"";
  display:block;
  width: 22px;
  height: 3px;
  background: var(--an-accent);
  border-radius: 2px;
  margin: 5px auto 0;
  opacity: .95;
}

/* Longevity bar (tighter) */
.anr-bar-wrap{ margin-top: 8px; }

.bar-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom: 5px;
  gap: 10px;
}

.bar-label{
  font-size: 10px;
  font-weight: 900;
  color: #6b7280;
  text-transform: uppercase;
  letter-spacing: .55px;
}

.bar-right{
  font-size: 10px;
  font-weight: 900;
  color: var(--an-ink);
  opacity: .65;
}

.anr-bar{
  background: rgba(0,0,0,.06);
  border-radius: 999px;
  height: 10px;
  overflow: hidden;
}

.anr-bar > span{
  display:block;
  height:100%;
  background: linear-gradient(90deg, var(--an-accent), rgba(0,176,115,.25));
  border-radius: 999px;
}

/* Metric boxes (smaller) */
.anr-env-metrics{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
  margin-top: 10px;
}

.anr-env-box{
  border: 1px solid var(--an-line);
  border-radius: 10px;
  padding: 8px 8px;
  background: rgba(0,0,0,.02);
  text-align: center;
}

.anr-env-box .k{
  font-size: 10px;
  font-weight: 900;
  color: var(--an-sub);
  text-transform: uppercase;
  letter-spacing: .55px;
}

.anr-env-box .v{
  font-size: 15px;
  font-weight: 950;
  margin-top: 4px;
  line-height: 1.1;
}

/* Only switch to stacked layout on truly small widths */
@media (max-width: 420px){
  .anr-env-metrics{ grid-template-columns: 1fr; }
  .anr-years{ width: 100%; justify-content: space-between; }
}
